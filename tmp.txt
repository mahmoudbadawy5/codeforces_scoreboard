class MyHTMLParser(HTMLParser):
	curTest = -1
	curVerd = -1
	curPoints = -1
	takeTest = False
	takeVerdict = False
	takePoints = 0
	def handle_starttag(self, tag, attrs):
		if tag == 'div' and attrs['class'] == 'caption titled': #Started a test
			self.takeTest = True
		elif  tag == 'div' and attrs['class'] == 'infoline': #Verdict
			self.takeVerdict = True
		elif  tag == 'div' and attrs['class'] == 'file checker-comment-view': #Verdict
			self.takePoints = 2

	def handle_endtag(self, tag):
		pass

	def handle_data(self, data):
		if self.takeTest:
			self.curTest = int(data)
			self.takeTest = False
			print("Got test "+str(self.curTest))
		elif self.takeVerdict:
			if data == 'Verdict: OK':
				curVerd = -1
			else:
				curVerd = 0
			print("Got verdict "+str(self.curVerd))
		elif self.takePoints > 1:
			self.takePoints = self.takePoints-1
		elif self.takePoints == 1:
			curPoints = float(data)
			print("Got points "+str(self.curPoints))
